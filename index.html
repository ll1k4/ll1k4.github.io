<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Взрывной Кликер</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: #000;
            color: #fff;
            text-align: center;
            margin: 0;
            padding: 10px;
            user-select: none;
            overflow: hidden;
        }
        #game {
            max-width: 800px;
            margin: 0 auto;
            padding: 10px;
            display: flex;
            flex-direction: column;
            height: 100vh;
            box-sizing: border-box;
        }
        #timer {
            font-size: 32px;
            font-weight: bold;
            color: #00ffff;
            text-shadow: 0 0 10px #00ffff;
            margin: 5px 0;
            padding: 5px;
        }
        #joke-display {
            font-size: 18px;
            color: #fff;
            min-height: 50px;
            margin: 5px 0 15px;
            padding: 10px;
            background: rgba(255, 0, 170, 0.2);
            border-radius: 10px;
            border-left: 3px solid #ff00aa;
            text-align: center;
        }
        #click-area {
            flex-grow: 1;
            min-height: 200px;
            background: #111;
            border-radius: 12px;
            margin: 5px 0;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        #click-area img {
            max-height: 70%;
            max-width: 70%;
            position: absolute;
            transition: all 0.3s;
        }
        #race-track {
            width: 100%;
            height: 25px;
            background: #222;
            border-radius: 12px;
            margin: 10px 0 5px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 10px rgba(255, 0, 170, 0.3);
        }
        #runner {
            position: absolute;
            left: 0;
            top: -12px;
            height: 50px;
            transition: left 0.3s;
            filter: drop-shadow(0 0 5px #00ffff);
        }
        #score {
            font-size: 28px;
            font-weight: bold;
            color: #ff55ff;
            text-shadow: 0 0 10px #ff55ff;
            margin: 5px 0;
            padding: 5px;
        }
        .explosion {
            position: absolute;
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, rgba(255,0,170,0.8) 0%, rgba(255,0,170,0) 70%);
            border-radius: 50%;
            transform: scale(0);
            animation: explode 0.5s forwards;
            pointer-events: none;
        }
        @keyframes explode {
            0% { transform: scale(0); opacity: 1; }
            100% { transform: scale(3); opacity: 0; }
        }
        .click-effect {
            position: absolute;
            font-size: 24px;
            color: #ff55ff;
            animation: float 1s ease-out;
            opacity: 0;
            pointer-events: none;
            text-shadow: 0 0 5px #ff55ff;
            font-weight: bold;
        }
        @keyframes float {
            0% { transform: translateY(0); opacity: 1; }
            100% { transform: translateY(-100px); opacity: 0; }
        }
    </style>
</head>
<body>
    <div id="game">
        <div id="timer">20</div>
        <div id="joke-display">Кликай на мемы для взрыва!</div>
        
        <div id="click-area">
            <img src="https://media.tenor.com/pESkzhvZiVMAAAAM/persona-4-tohru-adachi.gif" alt="Мем">
        </div>
        
        <div id="race-track">
            <img id="runner" src="https://steamuserimages-a.akamaihd.net/ugc/968732126365580783/01E8F22A95D4F677D68A271488D73261B2056533/" alt="Бегущий кот">
        </div>
        
        <div id="score">0 кликов</div>
    </div>

    <script>
        // Игровые переменные
        let score = 0;
        let timeLeft = 20;
        let gameActive = false;
        let timer;
        let gameStarted = false;

        // Мемные гифки
        const memeGifs = [
            "https://media.tenor.com/pESkzhvZiVMAAAAM/persona-4-tohru-adachi.gif",
            "https://media.tenor.com/PCzLwrwdnhIAAAAM/sonic-screaming.gif",
            "https://media.tenor.com/nDibhS2jNBgAAAAM/metaphor-refantazio-persona-3.gif",
            "https://media.tenor.com/y65hp98AauoAAAAm/lol-so-fun.webp",
            "https://media.tenor.com/0S1Dhb2UIVwAAAAM/esquie-mon-ami.gif",
            "https://media.tenor.com/QEq7E9CIctIAAAA1/lebonbon-meme.webp",
            "https://media.tenor.com/rgJleMzUa8MAAAAM/bailes.gif",
            "https://media.tenor.com/IqGSSMAeMrgAAAA1/canp.webp",
            "https://media.tenor.com/S03FliK9dXgAAAA1/mikujo-persona-3.webp"
        ];

        // 100+ пошлых шуток
        const jokes = [
            "Почему программисты путают Хэллоуин и Рождество? Oct 31 == Dec 25!",
            "Что сказал гинеколог пациентке? 'Будем смотреть или делать?'",
            "Почему мужчины после секса засыпают? Windows говорит 'Завершение работы...'",
            "Что сказал презерватив перед смертью? 'Я кончил!'",
            "Почему у мужчин утро начинается с стояка? Чтобы не забыть, что они ещё что-то могут поднять!",
            // ... (добавьте остальные шутки)
            "Почему нельзя доверять атомам? Они всё составляют!"
        ];

        // Начало игры при первом клике
        document.getElementById("click-area").onclick = (e) => {
            if (!gameStarted) {
                gameStarted = true;
                startGame();
                return;
            }
            
            if (!gameActive) return;
            
            score++;
            updateScore();
            
            // Анимация взрыва
            const explosion = document.createElement("div");
            explosion.className = "explosion";
            explosion.style.left = (e.clientX - 50) + "px";
            explosion.style.top = (e.clientY - 50) + "px";
            document.getElementById("click-area").appendChild(explosion);
            setTimeout(() => explosion.remove(), 500);
            
            // Анимация мема
            const meme = document.querySelector("#click-area img");
            meme.style.transform = "scale(1.5)";
            meme.style.opacity = "0";
            
            // Замена мема
            setTimeout(() => {
                const randomGif = memeGifs[Math.floor(Math.random() * memeGifs.length)];
                meme.src = randomGif;
                meme.style.transform = "scale(1)";
                meme.style.opacity = "1";
            }, 300);
            
            // Показ шутки (каждые 3 клика)
            if (score % 3 === 0) {
                document.getElementById("joke-display").textContent = 
                    jokes[Math.floor(Math.random() * jokes.length)];
            }
            
            // Движение котика
            const progress = Math.min(score / 120, 1);
            document.getElementById("runner").style.left = `calc(${progress * 100}% - 25px)`;
        };

        // Запуск игры
        function startGame() {
            gameActive = true;
            score = 0;
            timeLeft = 20;
            updateScore();
            
            // Таймер
            timer = setInterval(() => {
                timeLeft--;
                document.getElementById("timer").textContent = timeLeft;
                
                // Мигание при окончании времени
                if (timeLeft <= 5) {
                    document.getElementById("timer").style.animation = "none";
                    setTimeout(() => {
                        document.getElementById("timer").style.animation = "pulse 0.5s infinite";
                    }, 10);
                }
                
                if (timeLeft <= 0) {
                    endGame();
                }
            }, 1000);
        }

        // Окончание игры
        function endGame() {
            clearInterval(timer);
            gameActive = false;
            document.getElementById("joke-display").textContent = 
                `Время вышло! Финальный счет: ${score} кликов!`;
            
            // Сброс для новой игры
            setTimeout(() => {
                gameStarted = false;
                document.getElementById("timer").style.animation = "";
            }, 3000);
        }

        // Обновление счета
        function updateScore() {
            document.getElementById("score").textContent = `${score} кликов`;
            
            // Эффект при клике
            const effect = document.createElement("div");
            effect.className = "click-effect";
            effect.textContent = `+1`;
            effect.style.left = (Math.random() * 80 + 10) + "%";
            effect.style.top = "40%";
            document.getElementById("click-area").appendChild(effect);
            setTimeout(() => effect.remove(), 1000);
        }
    </script>
</body>
</html>